# 实现一个最简单的轮播图

## 思路

**面试回答思路（三步走）**
1. 布局思路 (Layout)：
   - 容器 (Viewport)：固定宽度，设置 overflow: hidden，作为视口。
   - 轨道 (Track/List)：包含所有图片的横向长条，宽度是 图片宽度 * 图片数量。
   - 单元 (Slide)：每一张图片，通常设置 flex: 0 0 100%。

2. 核心逻辑 (Logic)：
   - 位移：通过修改轨道的 transform: translateX(-index * 100%) 来切换图片。
   - 驱动：使用 setInterval 定时器改变 index。
   - 边界处理：当 index 超过最大值时，重置为 0。

3. 技术亮点 (Keywords)：
   - 性能：优先使用 transform 而不是 left，因为 transform 开启了硬件加速，不会触发重排（Reflow）。
   - 平滑度：使用 CSS 的 transition 实现平滑过渡，而不是用 JS 每一帧去计算位置。

## 

```html
<!DOCTYPE html>
<html>
<head>
  <style>
    /* 1. 视口：固定大小，溢出隐藏 */
    .slider {
      width: 300px;
      height: 200px;
      overflow: hidden;
      position: relative;
    }
    /* 2. 轨道：水平排列，增加过渡动画 */
    .track {
      display: flex;
      transition: transform 0.5s ease-in-out;
      height: 100%;
    }
    /* 3. 图片：占满视口宽度 */
    .slide {
      flex: 0 0 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 40px;
    }
  </style>
</head>
<body>
  <div class="slider">
    <div class="track" id="track">
      <div class="slide" style="background: red;">1</div>
      <div class="slide" style="background: blue;">2</div>
      <div class="slide" style="background: green;">3</div>
    </div>
  </div>

  <script>
    const track = document.getElementById('track');
    const slides = document.querySelectorAll('.slide');
    let index = 0;

    function next() {
      index++;
      // 边界处理：回到开头
      if (index >= slides.length) {
        index = 0;
      }
      // 核心逻辑：利用偏移量切换图片
      track.style.transform = `translateX(-${index * 100}%)`;
    }

    // 自动播放
    setInterval(next, 2000);
  </script>
</body>
</html>
```

## 面试追问

- 无缝循环 (Seamless Loop) 如何实现？
  - 思路：在第一张前面克隆最后一张，在最后一张后面克隆第一张。当滚动到伪第一张时，瞬间切换回真正的第一张（取消 transition）。

- 如何处理窗口缩放 (Responsive)？
  - 思路：偏移量不要写死 500px，应该根据 track.clientWidth 动态计算偏移百分比或像素。
  - 
- 性能优化？
  - 思路：使用 transform (GPU加速) 而不是修改 left (引发重排)。
  - 思路：当页面处于不可见状态时（document.hidden），停止定时器，节省资源。

- 交互体验？
  - 思路：鼠标移入 (mouseenter) 停止定时器，移出 (mouseleave) 重启定时器。